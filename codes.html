<html>
<head>
<style>
@font-face {
font-family:itim;
src: url(Itim-Regular.ttf);
}
nav a,li{
font-size: 15px;
color: white !important;
font-family:Arial, Helvetica, sans-serif;
font-weight: bold !important;
}
a:hover {
background-color:dimgray !important;
}
.navbar-nav li:hover > ul.dropdown-menu {
display: block;
background-color:black !important;
}
.dropdown-submenu {
position:relative;
}
.dropdown-submenu>.dropdown-menu {
top: 0;
left: 100%;
margin-top:-6px;
}
.dropdown-menu{
background-color: black !important;
margin-top: 0px !important;
}

.dropdown-menu > li > a:hover:after {
text-decoration: underline;
transform: rotate(-90deg);
}

#fusha::placeholder{
font-weight: bold !important;
font-size: 15px;
}


</style>

<meta charset="utf-8">
<meta name="viewport" content="width=700px, initial-scale=0.55 , maximum-scale=1">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"></script>


<script>

$(document).keypress(function(event){
var keycode = (event.keyCode ? event.keyCode : event.which);
if(keycode == '13'){
$("#konverto").trigger("click");
}
});

var message;

$(document).ready(function(){
message=$("#message").detach();
$('body').show();
$("#konverto").click(function(){
$("#message").detach();
$("#textarea1").text("");
if($('#fusha').val().length>0){
if($('#fusha').val().length>30){
$("#mainsubsub").prepend(message);$("#message").text("Error!");
}
else{
var decimalnum=$('#fusha').val();
var bashkesia='0123456789';

var bool=false;
for(var i=0;i<decimalnum.length;i++){
if (bashkesia.indexOf(decimalnum.charAt(i))==-1) {
$("#mainsubsub").prepend(message);$("#message").text("Error!");
bool=true;
break;
}
}

if(!bool){

if($('#kodi').val()=='1'){
var bcdstring="";
for(var i=0;i<decimalnum.length;i++){
var str="";
var nr=parseInt(decimalnum.charAt(i));
while(nr!=0){
str+=(nr%2).toString();
nr=parseInt(nr/2);
}

while(str.length!=4){
str+="0";
}	
var toarr = str.split("");
var reverseArray = toarr.reverse();
var revstr = reverseArray.join("");
bcdstring+=revstr+" ";	
}
$("#textarea1").text(bcdstring);
}

else if($('#kodi').val()=='2'){
var bcdstring="";
for(var i=0;i<decimalnum.length;i++){
var str="";
var nr=parseInt(decimalnum.charAt(i));
nr+=3;
while(nr!=0){
str+=(nr%2).toString();
nr=parseInt(nr/2);
}

while(str.length!=4){
str+="0";
}	
var toarr = str.split("");
var reverseArray = toarr.reverse();
var revstr = reverseArray.join("");
bcdstring+=revstr+" ";	
}
$("#textarea1").text(bcdstring);
}

else if($('#kodi').val()=='3'){
var str="";
var nr=parseInt(decimalnum);
if(nr==0){
str="0";
}
while(nr!=0){
str+=(nr%2).toString();
nr=parseInt(nr/2);
}	

var toarr = str.split("");
var reverseArray = toarr.reverse();
var revstr = reverseArray.join("");
var greystring=revstr.charAt(0).toString();
for(var i=0;i<revstr.length-1;i++){
if(revstr.charAt(i)=='1'&&revstr.charAt(i+1)!='1'||revstr.charAt(i)!='1'&&revstr.charAt(i+1)=='1'){
greystring+='1';	
}
else{
greystring+='0';		
}
}

$("#textarea1").text(greystring);

}

else if($('#kodi').val()=='4'){
var _25codestring="";
for(var i=0;i<decimalnum.length;i++){
var str="";
var nr=parseInt(decimalnum.charAt(i));	
if(nr==0){
str="01100"
}
else if(nr==1){
str="10001"
}	
else if(nr==2){
str="10010"
}
else if(nr==3){
str="00011"
}
else if(nr==4){
str="10100"
}
else if(nr==5){
str="00101"
}
else if(nr==6){
str="00110"
}
else if(nr==7){
str="11000"
}
else if(nr==8){
str="01001"
}
else if(nr==9){
str="01010"
}

_25codestring+=str+" ";
}
$("#textarea1").text(_25codestring);

}

else if($('#kodi').val()=='5'){
var bcdstring="";
for(var i=0;i<decimalnum.length;i++){
var str="";
var numofones=0;
var nr=parseInt(decimalnum.charAt(i));
while(nr!=0){
str+=(nr%2).toString();
if(nr%2==1){
numofones++;
}
nr=parseInt(nr/2);
}

while(str.length!=4){
str+="0";
}	
if(numofones%2==0){
str+="1";
}
else{
str+="0";
}
var toarr = str.split("");
var reverseArray = toarr.reverse();
var revstr = reverseArray.join("");
bcdstring+=revstr+" ";	
}
$("#textarea1").text(bcdstring);

}	 

else  if($('#kodi').val()=='6'){
var bcdstring="";
for(var i=0;i<decimalnum.length;i++){
var str="";
var numofones=0;
var nr=parseInt(decimalnum.charAt(i));
while(nr!=0){
str+=(nr%2).toString();
if(nr%2==1){
numofones++;
}
nr=parseInt(nr/2);
}

while(str.length!=4){
str+="0";
}	
if(numofones%2==0){
str+="0";
}
else{
str+="1";
}
var toarr = str.split("");
var reverseArray = toarr.reverse();
var revstr = reverseArray.join("");
bcdstring+=revstr+" ";	
}
$("#textarea1").text(bcdstring);

}

else if($('#kodi').val()=='7'){
var str="";
var nr=parseInt(decimalnum);
if(nr==0){
str="0";
}
while(nr!=0){
str+=(nr%2).toString();
nr=parseInt(nr/2);
}	
var toarr = str.split("");
var reverseArray = toarr.reverse();
var revstr = reverseArray.join("");
var k=0;

while(Math.pow(2,k)<revstr.length+k+1){
k++;
}
var hammingarray=new Array(revstr.length+k);
for(var i=0;i<hammingarray.length;i++){
if(Math.pow(2,i)-1<hammingarray.length){
hammingarray[Math.pow(2,i)-1]="x";
}
}
var indexcounter=0;
for(var i=0;i<hammingarray.length;i++){
if(hammingarray[i]!="x"){
hammingarray[i]=revstr.charAt(indexcounter).toString();
indexcounter++;
}  
}

for(var i=0;i<hammingarray.length;i++){
if(hammingarray[i]=="x"){
var size=i+1;
var skip=false;
var c=0;
var numofones=0;
for(var j=i;j<hammingarray.length;j++){
if(c==size&&skip==true){
skip=false;
c=0;
}

if(c==size && skip==false){
skip=true;
c=0;
}
if(hammingarray[j]=="1" &&skip==false){
numofones++;
}
c++;
}

if(numofones%2==0){
hammingarray[i]="0";
}
else{
hammingarray[i]="1";
}
}
}

var hammingstring=hammingarray.join("");

$("#textarea1").text(hammingstring);

}

else if($('#kodi').val()=='8'){
var bcdstring="";
for(var i=0;i<decimalnum.length;i++){
var str="";
var nr=((parseInt(decimalnum.charAt(i)))*3)+2;
while(nr!=0){
str+=(nr%2).toString();
nr=parseInt(nr/2);
}

while(str.length!=5){
str+="0";
}	
var toarr = str.split("");
var reverseArray = toarr.reverse();
var revstr = reverseArray.join("");
bcdstring+=revstr+" ";	
}
$("#textarea1").text(bcdstring);

}
$("#textarea1").scrollTop($("#textarea1")[0].scrollHeight);


}}}
});
});
</script>
</head>

<body style="line-height: 1 !important;overflow-x: hidden;touch-action: manipulation;background-color:#b3b3b3;color: black;width: 100vw;
display: none;">
<nav class="navbar navbar-expand navbar-light bg-light" id="nav" style="background: black !important;
width:100%;position: fixed;top:0;z-index: 99;">
<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" 
aria-expanded="false" aria-label="Toggle navigation" style="background: lightgrey;">
<span class="navbar-toggler-icon"></span>
</button>

<div class="collapse navbar-collapse" id="navbarNavDropdown">
<ul class="navbar-nav">
<li class="nav-item active">
<a class="nav-link" href="index.html">Home <span class="sr-only">(current)</span></a>
</li>

<li class="nav-item dropdown">
<a class="nav-link dropdown-toggle" href="http://example.com" id="navbarDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" 
aria-expanded="false">Numeral systems</a>
<ul class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
<li><a class="dropdown-item" href="base.html">Number bases</a></li>
<li><a class="dropdown-item" href="codes.html">Binary codes</a></li>
</ul>
</li>

<li class="nav-item dropdown">
<a class="nav-link dropdown-toggle" id="navbarDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" 
aria-expanded="false">Combinational logic</a>
<ul class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
<li class="dropdown-submenu"><a class="dropdown-item dropdown-toggle">Karnaugh map</a>
<ul class="dropdown-menu">
<li><a class="dropdown-item" href="4var.html">4 variables</a></li>
<li><a class="dropdown-item" href="5var.html">5 variables</a></li>
<li><a class="dropdown-item" href="6var.html">6 variables</a></li>
</ul>
</li>
<li><a class="dropdown-item" href="McCluskey.html">Tabular method</a></li>
</ul>
</li>


<li class="nav-item dropdown">
<a class="nav-link dropdown-toggle" href="http://example.com" id="navbarDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" 
aria-expanded="false">Boolean algebra</a>
<ul class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
<li><a class="dropdown-item" href="booleanexpression.html">Boolean expressions</a></li>
<li><a class="dropdown-item" href="expressioncheck.html">Compare functions</a></li>
</ul>
</li>

</ul>
</div>
</nav>


<div id="main" style="display:flex;justify-content:center;align-items:center;">
<div id="mainsub" style="background: #f5f5f5;border-radius: 20px;width: 600px;height:420px;display: flex;justify-content: center;
;position: relative;margin-top: 100px;">
<div id="mainsubsub" style="width: 80%;height: 100%;display: flex;flex-direction: column;justify-content: center;">

<div id="message" style="position:absolute;top:2px;left:calc(50% - 30px);height:20px;background:lightgrey;width:60px;display: flex;
justify-content:center;align-items:center;letter-spacing:2px;font-style:italic;font-weight:bold;box-shadow:3px 3px 3px dimgray;border-radius:3px;">
</div>


<input type="text" class="form-control" id="fusha" autocomplete="off" placeholder="Decimal number" style="width:100%;height: 60px;
letter-spacing: 1px;box-shadow: 3px 3px 10px dimgrey;font-weight: bold;border: 1px solid;">

<div style="margin-top: 30px;display:flex;align-items:center;">

<select id="kodi" style="height: 40px;width: 250px;background: black;color:white;font-size: 18px;border-radius: 5px;font-family:Itim;">
<option value="1">BCD(8421)</option>
<option value="2">Plus 3</option>
<option value="3">Gray</option>
<option value="4">2 out of 5</option>
<option value="5">BCD(8421) odd parity</option>
<option value="6">BCD(8421) even parity</option>
<option value="7">Hamming</option>
<option value="8">Diamond</option>
</select>

<button type="button" id="konverto" class="btn btn-secondary" style="font-family:monospace;font-weight:bold;font-size:13px;
background:black;margin-left:10px">Submit</button> 
</div>

<textarea id="textarea1"  readonly  style="margin-top:30px;letter-spacing: 1px;font-size:18px;font-weight:bold;height:150px;
background: black;color: white;width:100%;border-radius: 5px;box-shadow: 3px 5px 5px dimgrey;line-height: 1.5;
font-family:Times New Roman;"></textarea>

</div>
</div>
</div>

</body>
</html>